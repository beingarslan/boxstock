import{i as $,r as p,k as c,x as g,m as _}from"./app.67f4f754.js";const v={padding:0,border:0,margin:0},f={willChange:"height"};function x(e=0,n=0){return{"--vc-auto-duration":`${w(e-n)}ms`,height:`${e}px`}}function w(e=0){if(e===0)return 0;const n=e/36;return Math.round(10*(4+15*n**.25+n/5))}const h={type:Function,required:!1,default:()=>{}},T=$({name:"Collapse",inheritAttrs:!0,props:{when:{type:Boolean,required:!0},baseHeight:{type:Number,required:!1,default:0},as:{type:String,required:!1,default:"div"},onExpand:h,onExpanded:h,onCollapse:h,onCollapsed:h},setup(e){const n=p(null),{style:m,state:E,onTransitionEnd:y}=function(t,{isExpanded:o,baseHeight:s=p(0),onExpand:b=()=>{},onExpanded:C=()=>{},onCollapse:q=()=>{},onCollapsed:H=()=>{}}){const d=c(()=>{const l={overflow:"hidden",height:`${s.value}px`};return{visible:l,collapsed:{...v,...s.value===0?{display:"none"}:l}}}),a=p(o.value?v:d.value.collapsed),i=p(o.value?"expanded":"collapsed");return g(()=>o.value,l=>{requestAnimationFrame(()=>{var u;l?(a.value={...v,...f,...d.value.visible},requestAnimationFrame(()=>{var r;a.value={...a.value,...x((r=t.value)==null?void 0:r.scrollHeight,s.value)},i.value="expanding",b()})):(a.value={...a.value,...f,...x((u=t.value)==null?void 0:u.scrollHeight,s.value)},requestAnimationFrame(()=>{a.value={...a.value,...d.value.visible},i.value="collapsing",q()}))})}),g(()=>s.value,l=>{o.value||(a.value={...a.value,transitionDuration:"0s",height:`${l}px`})}),{style:a,state:i,onTransitionEnd:function(l){var u,r;l.target===t.value&&l.propertyName==="height"&&(o.value?((u=t.value)==null?void 0:u.scrollHeight)===parseFloat(l.target.style.height)&&(a.value=v,i.value="expanded",C()):((r=t.value)==null?void 0:r.style.height)===`${s.value}px`&&(a.value=d.value.collapsed,i.value="collapsed",H()))}}}(n,{isExpanded:c(()=>e.when),baseHeight:c(()=>e.baseHeight),onExpand:e.onExpand,onExpanded:e.onExpanded,onCollapse:e.onCollapse,onCollapsed:e.onCollapsed});return{pushRef:function(t){n.value=t},collapseRef:n,style:m,onTransitionEnd:y,state:E}},render(){var e,n;return _(this.$props.as,{ref:this.pushRef,style:this.style,onTransitionend:this.onTransitionEnd,"data-collapse":this.state},(n=(e=this.$slots).default)==null?void 0:n.call(e,{state:this.state}))}}),A="/build/assets/Group.100864d6.svg";export{T as d,A as t};
