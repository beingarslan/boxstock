import{r,z,H as G,e as b,a as _,o as x,c as u,d as l,w as o,b as e,J as k,K as N,g as J,v as Q,u as y,T as L,t as a,f as W,h as p,U as X,ab as Y}from"./app.67f4f754.js";import{t as Z,d as ee}from"./toggle-btn.0794e622.js";const te={class:"loader_wrraper z-50"},se=e("span",{class:"loader"},null,-1),ae=[se],le=p("DHL"),oe=p("POSTNL"),ne=p("DPD"),ie=p("Bestelling onhold"),de=p("Bestelling gereed"),pe=p("Bestelling niet gereed"),ce=p("Nabestelling"),re=p("Bestelling is gereed maar sommige items in backorder"),_e=p("Update"),xe={class:"mt-[188px] md:mt-[97px] mb-[100px]"},ue={class:"container"},me={class:"flex items-center flex-wrap gap-[20px] mb-[20px]"},he=e("span",null,"Product name: ",-1),fe=["onClick"],ge={class:"flex md:gap-[40px] gap-[10px] flex-wrap"},ve={class:"text-[#555555] font-[400] text-[16px] leading-[19px]"},be={class:"text-[#555555] font-[400] text-[16px] leading-[19px]"},ye={class:"text-[#555555] font-[400] text-[16px] leading-[19px]"},we=["title"],ke={class:"text-[#555555] font-[400] text-[16px] leading-[19px]"},Be={class:"text-[#555555] font-[400] text-[16px] leading-[19px]"},De={class:"flex items-center justify-between mt-[20px] md:mt-0"},Ae={class:"md:ml-[120px] ml-[20px] flex items-center"},Ce=["src"],Se={class:"ml-[20px]"},ze=["src"],Ne={class:"px-[10px] pb-[30px]"},Le={class:"border-dashed border-b border-[#DADADA] py-[15px] px-[10px] pl-0 flex items-start gap-[15px]"},Oe={class:"text-[#555555] text-[16px] leading-[19px] font-[400]"},Pe={class:"text-[#555555] text-[16px] leading-[19px] font-[400]"},Fe={class:"text-[#555555] text-[16px] leading-[19px] font-[400]"},Ue={class:"text-[#555555] text-[16px] leading-[19px] font-[400]"},Te={class:"text-[#555555] text-[16px] leading-[19px] font-[400]"},Ve={class:"text-[#555555] text-[16px] leading-[19px] font-[400]"},He={class:"mt-[35px] flex flex-col md:flex-row gap-[20px] md:gap-[50px]"},Ie=e("h4",{class:"font-[500] text-[16px] leading-[16px] text-[#000000]"},"Bestelingen",-1),je={class:"mb-[40px]"},Ee={class:"mb-[15px] font-[500] text-[16px] leading-[16px] text-[#000000] border-b border-[#DADADA] pb-[15px]"},Me={class:"border-b border-[#DADADA] pb-[5px]"},Re={class:"flex md:gap-[60px] mb-[10px] flex-wrap gap-[10px]"},Ke={class:"text-[#555555] text-[16px] leading-[26px] w-[200px]"},$e={class:"text-[#555555] text-[16px] leading-[26px]"},qe={class:"text-[#555555] text-[16px] leading-[26px]"},Ge={class:"flex justify-between mt-[15px]"},Je=e("span",{class:"text-[#555555] text-[16px] leading-[26px]"},"Totaal",-1),Qe={class:"text-[#555555] text-[16px] leading-[26px]"},We={class:"flex items-center justify-between"},Xe={class:"text-right pr-[10px] md:pr-[55px] pb-[25px] relative"},Ye=["onClick"],Ze={key:0,class:"loader_wrraper z-50"},et=e("span",{class:"loader"},null,-1),tt=[et],st=p(" Cancel order "),at={class:"text-right pr-[10px] md:pr-[55px] pb-[25px]"},lt=["onClick"],ot={key:1,class:"ant-empty ant-empty-normal"},nt=X('<div class="ant-empty-image"><svg class="ant-empty-img-simple" width="64" height="41" viewBox="0 0 64 41"><g transform="translate(0 1)" fill="none" fill-rule="evenodd"><ellipse class="ant-empty-img-simple-ellipse" fill="#F5F5F5" cx="32" cy="33" rx="32" ry="7"></ellipse><g class="ant-empty-img-simple-g" fill-rule="nonzero" stroke="#D9D9D9"><path d="M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"></path><path d="M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z" fill="#FAFAFA" class="ant-empty-img-simple-path"></path></g></g></svg></div><p class="ant-empty-description">No Data</p>',2),it=[nt],rt={name:"Orders",setup(dt){const f=r(!1),m=r(!1);r(void 0);const B=r(!1),D=r(2),O=()=>{f.value=!1},P=r();let A=[];const c=z({status:"",delivery_method:""});let F=[],U={span:8},T={span:12};z(F.map(()=>({isExpanded:!1})));const g=r();function V(n){g.value=n}const h=r([]);G(async()=>{let n=localStorage.getItem("token");B.value=!0,await b.get("/orders/",{headers:{Authorization:"Bearer "+n}}).then(s=>{h.value=s.data.orders,A=s.data.orders}),B.value=!1});let C="";function H(n){C=n,f.value=!0;let s=localStorage.getItem("token");b({method:"GET",url:"/orders/"+n+"/edit",headers:{Authorization:"Bearer "+s}}).then(i=>{c.status=i.data.order.status,c.delivery_method=i.data.order.delivery_method})}function I(){let n=localStorage.getItem("token");m.value=!0,b({method:"PUT",url:"/orders/"+C,headers:{Authorization:"Bearer "+n},data:Y(c)}).then(s=>{O(),window.location.reload()})}function j(n){h.value=A.filter(s=>s.product.name.toLowerCase().indexOf(n.target.value.toLowerCase())>-1)}function E(n){m.value=!0;let s=localStorage.getItem("token");b.delete("/orders/"+n,{headers:{Authorization:"Bearer "+s}}).then(i=>{window.location.reload()}),m.value=!1}const M=(n,s)=>{n.value=n};return(n,s)=>{const i=_("a-select-option"),S=_("a-select"),w=_("a-form-item"),R=_("a-button"),K=_("a-form"),$=_("a-modal"),q=_("a-pagination");return x(),u(k,null,[l($,{visible:f.value,"onUpdate:visible":s[2]||(s[2]=t=>f.value=t),title:"Edit order",class:"relative"},{default:o(()=>[J(e("div",te,ae,512),[[Q,m.value]]),l(K,{ref_key:"formRef",ref:P,model:c,"label-col":y(U),"wrapper-col":y(T)},{default:o(()=>[l(w,{label:"Delivery method",name:"delivery_method"},{default:o(()=>[l(S,{value:c.delivery_method,"onUpdate:value":s[0]||(s[0]=t=>c.delivery_method=t),placeholder:"please select delivery method"},{default:o(()=>[l(i,{value:"DHL"},{default:o(()=>[le]),_:1}),l(i,{value:"POSTNL"},{default:o(()=>[oe]),_:1}),l(i,{value:"DPD"},{default:o(()=>[ne]),_:1})]),_:1},8,["value"])]),_:1}),l(w,{label:"Order status",name:"status"},{default:o(()=>[l(S,{value:c.status,"onUpdate:value":s[1]||(s[1]=t=>c.status=t),placeholder:"please select status"},{default:o(()=>[l(i,{value:"0"},{default:o(()=>[ie]),_:1}),l(i,{value:"1"},{default:o(()=>[de]),_:1}),l(i,{value:"2"},{default:o(()=>[pe]),_:1}),l(i,{value:"3"},{default:o(()=>[ce]),_:1}),l(i,{value:"4"},{default:o(()=>[re]),_:1})]),_:1},8,["value"])]),_:1}),l(w,{"wrapper-col":{span:14,offset:4}},{default:o(()=>[l(R,{type:"primary",onClick:I},{default:o(()=>[_e]),_:1})]),_:1})]),_:1},8,["model","label-col","wrapper-col"])]),_:1},8,["visible"]),e("div",xe,[e("div",ue,[e("div",me,[e("div",null,[he,e("input",{onInput:s[3]||(s[3]=t=>j(t)),class:"py-[10px] border border-[#f5f5f5] px-[10px]",type:"text",placeholder:"Filter by product name"},null,32)])]),h.value.length>0?(x(!0),u(k,{key:0},N(h.value,(t,v)=>(x(),u("div",{key:t.id,class:"Section mb-[10px]"},[e("button",{class:L(["flex md:flex-row flex-col md:items-center items-start justify-between w-full h-auto p-[10px] border border-[#DADADA] rounded-[5px] px-[10px]",["Panel",{Active:g.value===v}]]),onClick:()=>V(v)},[e("div",ge,[e("span",ve,a(t.order_id),1),e("span",be,a(t.total_price),1),e("span",ye,a(t.order_date),1),e("span",{class:"text-[#555555] font-[400] text-[16px] leading-[19px] text-ellipsis overflow-hidden",title:t.status==="0"?"Bestelling onhold":t.status==="1"?"Bestelling gereed":t.status==="2"?"Bestelling niet gereed":t.status==="3"?"Nabestelling":t.status==="4"?"Bestelling is gereed maar sommige items in backorder":""},a(t.status==="0"?"Bestelling onhold":t.status==="1"?"Bestelling gereed":t.status==="2"?"Bestelling niet gereed":t.status==="3"?"Nabestelling":t.status==="4"?"Order ready with backorder":""),9,we),e("span",ke,a(t.delivery_method),1),e("span",Be,a(t.user.company_name),1)]),e("div",De,[e("span",null,a(t.user.user_name),1),e("div",Ae,[e("img",{class:"w-[30px] h-[30px] rounded-full",src:t.user.image},null,8,Ce),e("span",Se,[e("img",{src:y(Z)},null,8,ze)])])])],10,fe),l(y(ee),{as:"section",when:g.value===v,class:L([[{Active:g.value===v}],"Collapse"])},{default:o(()=>[e("div",Ne,[e("div",Le,[e("span",Oe,a(t.user.company_name),1),e("span",Pe,a(t.user.street_name),1),e("span",Fe,a(t.user.post_code),1),e("span",Ue,a(t.user.city),1),e("span",Te,a(t.user.country),1),e("span",Ve,a(t.user.phone_number),1)]),e("div",He,[Ie,e("div",null,[e("div",je,[e("h4",Ee,a(t.product.name),1),e("div",Me,[(x(!0),u(k,null,N(t.order_products,d=>(x(),u("div",Re,[e("span",Ke,a(d.variant.status)+"("+a(d.qty)+") "+a(d.status==="0"?"Bestelling onhold":d.status==="1"?"Bestelling gereed":d.status==="2"?"Bestelling niet gereed":d.status==="3"?"Nabestelling":d.status==="4"?"Bestelling is gereed maar sommige items in backorder":""),1),e("span",$e,"SKU: "+a(t.product.sku),1),e("span",qe,"\u20AC "+a(d.amount),1)]))),256))])]),e("div",Ge,[Je,e("span",Qe,"\u20AC "+a(t.total_price),1)])])])]),e("div",We,[e("div",Xe,[e("button",{onClick:d=>E(t.id),class:"relative tracking-[0.266667px] text-[16px] leading-[19px] font-[700] px-[15px] py-[4px] bg-[#000] rounded-[72.5px] text-[#fff]"},[m.value?(x(),u("div",Ze,tt)):W("",!0),st],8,Ye)]),e("div",at,[e("button",{onClick:d=>H(t.id),class:"tracking-[0.266667px] text-[16px] leading-[19px] font-[700] px-[15px] py-[4px] bg-[#000] rounded-[72.5px] text-[#fff]"}," Stuur mail ",8,lt)])])]),_:2},1032,["when","class"])]))),128)):(x(),u("div",ot,it)),l(q,{current:D.value,"onUpdate:current":s[4]||(s[4]=t=>D.value=t),"show-less-items":"","default-current":3,total:h.value.length,onShowSizeChange:M},null,8,["current","total"])])])],64)}}};export{rt as default};
